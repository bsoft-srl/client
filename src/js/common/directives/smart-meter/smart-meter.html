<div class="row animated fadeInDown" ng-if="sm.chartData">
    <div class="col-lg-12">
        <div class="panel widget" ng-class="{'is-loading': sm.isLoading}">
            <div class="panel-heading">
                <h2 class="panel-title pull-left">{{sm.title}}</h2>

                <div class="btn-toolbar pull-right">
                    <div class="btn-group btn-group-sm" role="group" aria-label="canali">
                        <button
                            type="button"
                            class="btn btn-default"
                            ng-class="{'active': sm.channel == c}"
                            ng-repeat="c in sm.channels"
                            ng-click="sm.update(c, sm.downsample)"
                        >
                          {{sm.model.tipologia.c[c]}}
                      </button>
                    </div>

                    <div class="btn-group btn-group-sm" role="group" aria-label="canali">
                        <button type="button" class="btn btn-default" ng-class="{active: sm.toggled}" ng-click="sm.toggle()"><i class="fa fa-database mr"></i> Dettagli</button>
                    </div>
                </div>
            </div>

            <div class="panel-body">
                <div class="pv-lg" style="position: relative">
                    <div class="so-nodps" ng-if="!sm.dataPointsSize">
                        Nessun dato restituito per il periodo selezionato.
                    </div>
                    <div so-chart dps="sm.chartData" options="sm.chartOptions" style="height: 200px"></div>
                </div>
            </div>

            <div class="panel-footer" ng-show="sm.toggled">
                <ul class="list-inline">
                    <li><span class="label label-info">METRICA</span>&nbsp;{{sm.model.tipologia.metric}}</li>
                    <li><span class="label label-info">DATA POINTS</span>&nbsp;{{sm.dataPointsSize}}
                        <span class="btn-group dropup" ng-if="sm.downsamples">
                            <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">Downsample <i class="fa fa-caret-up ml"></i></button>
                            <ul class="dropdown-menu">
                                <li ng-class="{'active': d.downsample == sm.downsample}" ng-repeat="d in sm.downsamples"><a ng-click="sm.update(sm.channel, d.downsample)">{{d.desc}}</a></li>
                            </ul>
                        </span>
                    </li>
                    <li><span class="label label-info">MAC</span>&nbsp;{{sm.model.mac_address}}</li>
                    <li><span class="label label-info">DATALOGGER</span>&nbsp;{{sm.model.mac_address_datalogger}}</li>
                    <li><span class="label label-info">ULTIMO AGGIORNAMENTO</span>&nbsp;{{sm.lastUpdate}}</li>
                </ul>
            </div>
        </div>
    </div>
</div>
